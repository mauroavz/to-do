{"remainingRequest":"/home/mauro/fullstack/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mauro/fullstack/frontend/src/components/Noteslist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mauro/fullstack/frontend/src/components/Noteslist.vue","mtime":1605849005013},{"path":"/home/mauro/fullstack/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mauro/fullstack/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mauro/fullstack/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOb3RlRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvTm90ZURhdGFTZXJ2aWNlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJub3Rlcy1saXN0IiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm90ZXM6IFtdLAogICAgICB0aXRsZTogIiIsCiAgICAgIGhlYWRlcnM6IFsKICAgICAgICB7IHRleHQ6ICJUaXR1bG8iLCBhbGlnbjogInN0YXJ0Iiwgc29ydGFibGU6IGZhbHNlLCB2YWx1ZTogInRpdGxlIiB9LAogICAgICAgIHsgdGV4dDogIkRlc2NyaXBjaW9uIiwgdmFsdWU6ICJkZXNjcmlwdGlvbiIsIHNvcnRhYmxlOiBmYWxzZSB9LAogICAgICAgIHsgdGV4dDogIkVzdGFkbyIsIHZhbHVlOiAic3RhdHVzIiwgc29ydGFibGU6IGZhbHNlIH0sCiAgICAgICAgeyB0ZXh0OiAiQWNjaW9uZXMiLCB2YWx1ZTogImFjdGlvbnMiLCBzb3J0YWJsZTogZmFsc2UgfSwKICAgICAgXSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXRyaWV2ZU5vdGVzKCkgewogICAgICBOb3RlRGF0YVNlcnZpY2UuZ2V0QWxsKCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMubm90ZXMgPSByZXNwb25zZS5kYXRhLm1hcCh0aGlzLmdldERpc3BsYXlOb3RlKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgIH0sCgogICAgcmVmcmVzaExpc3QoKSB7CiAgICAgIHRoaXMucmV0cmlldmVOb3RlcygpOwogICAgfSwKCiAgICBhc3luYyByZW1vdmVBbGxOb3RlcygpIHsKICAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRjb25maXJtKCfCv0VzdGEgc2VndXJvIGRlIGVsaW1pbmFyIHRvZGFzIGxhcyB0YXJlYXM/JywgeyB0aXRsZTogJ0NvbmZpcm1hcicgfSkKICAgICAgaWYgKHJlcykgewogICAgICBOb3RlRGF0YVNlcnZpY2UuZGVsZXRlQWxsKCkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgdGhpcy5yZWZyZXNoTGlzdCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgICAgICB9CiAgICB9LAoKICAgIHNlYXJjaFRpdGxlKCkgewogICAgICBOb3RlRGF0YVNlcnZpY2UuZmluZEJ5VGl0bGUodGhpcy50aXRsZSkKICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgIHRoaXMubm90ZXMgPSByZXNwb25zZS5kYXRhLm1hcCh0aGlzLmdldERpc3BsYXlOb3RlKTsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KTsKICAgIH0sCgogICBlZGl0Tm90ZShpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJub3RlLWRldGFpbHMiLCBwYXJhbXM6IHsgaWQ6IGlkIH0gfSk7CiAgICB9LAoKICAgIGFzeW5jIGRlbGV0ZU5vdGUoaWQsIHN0YXR1cykgewogICAgICBpZihzdGF0dXMgPT0gIlBlbmRpZW50ZSIpewogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kY29uZmlybSgnwr9Fc3RhIHNlZ3VybyBkZSBlbGltaW5hciB1bmEgdGFyZWEgcGVuZGllbnRlPycsIHsgdGl0bGU6ICdDb25maXJtYXInIH0pCiAgICAgIGlmIChyZXMpIHsKICAgICAgIE5vdGVEYXRhU2VydmljZS5kZWxldGUoaWQpCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLnJlZnJlc2hMaXN0KCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0pCiAgICAgIH0KICAgICAgfWVsc2V7CiAgICAgICAgICBOb3RlRGF0YVNlcnZpY2UuZGVsZXRlKGlkKQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5yZWZyZXNoTGlzdCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlKSA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICB9KQogICAgICB9CiAgICB9LAoKICAgIGdldERpc3BsYXlOb3RlKG5vdGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogbm90ZS5pZCwKICAgICAgICB0aXRsZTogbm90ZS50aXRsZS5sZW5ndGggPiAzMCA/IG5vdGUudGl0bGUuc3Vic3RyKDAsIDMwKSArICIuLi4iIDogbm90ZS50aXRsZSwKICAgICAgICBkZXNjcmlwdGlvbjogbm90ZS5kZXNjcmlwdGlvbiwKICAgICAgICBzdGF0dXM6IG5vdGUucHVibGlzaGVkID8gIkZpbmFsaXphZG8iIDogIlBlbmRpZW50ZSIsCiAgICAgIH07CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMucmV0cmlldmVOb3RlcygpOwogIH0sCn07Cg=="},{"version":3,"sources":["Noteslist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Noteslist.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-row align=\"center\" class=\"list px-3 mx-auto\">\n    <v-col cols=\"12\" md=\"8\">\n      <v-text-field v-model=\"title\" label=\"Buscar por titulo\"></v-text-field>\n    </v-col>\n\n    <v-col cols=\"12\" md=\"4\">\n      <v-btn small @click=\"searchTitle\"> Buscar </v-btn>\n    </v-col>\n\n    <v-col cols=\"12\" sm=\"12\">\n      <v-card class=\"mx-auto\" tile>\n        <v-card-title>Tareas</v-card-title>\n\n        <v-data-table\n          :headers=\"headers\"\n          :items=\"notes\"\n          disable-pagination\n          :hide-default-footer=\"true\"\n        >\n          <template v-slot:[`item.actions`]=\"{ item }\">\n            <v-icon small class=\"mr-2\" @click=\"editNote(item.id)\"\n              >mdi-pencil</v-icon\n            >\n            <v-icon small @click=\"deleteNote(item.id, item.status)\">mdi-delete</v-icon>\n          </template>\n        </v-data-table>\n\n        <v-card-actions v-if=\"notes.length > 0\">\n          <v-btn small color=\"error\" @click=\"removeAllNotes\">\n            Eliminar todo\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-col>\n  </v-row>\n\n</template>\n\n<script>\nimport NoteDataService from \"../services/NoteDataService\";\nexport default {\n  name: \"notes-list\",\n  data() {\n    return {\n      notes: [],\n      title: \"\",\n      headers: [\n        { text: \"Titulo\", align: \"start\", sortable: false, value: \"title\" },\n        { text: \"Descripcion\", value: \"description\", sortable: false },\n        { text: \"Estado\", value: \"status\", sortable: false },\n        { text: \"Acciones\", value: \"actions\", sortable: false },\n      ],\n    };\n  },\n  methods: {\n    retrieveNotes() {\n      NoteDataService.getAll()\n        .then((response) => {\n          this.notes = response.data.map(this.getDisplayNote);\n          console.log(response.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n\n    refreshList() {\n      this.retrieveNotes();\n    },\n\n    async removeAllNotes() {\n       let res = await this.$confirm('¿Esta seguro de eliminar todas las tareas?', { title: 'Confirmar' })\n      if (res) {\n      NoteDataService.deleteAll()\n        .then((response) => {\n          console.log(response.data);\n          this.refreshList();\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n        }\n    },\n\n    searchTitle() {\n      NoteDataService.findByTitle(this.title)\n        .then((response) => {\n          this.notes = response.data.map(this.getDisplayNote);\n          console.log(response.data);\n        })\n        .catch((e) => {\n          console.log(e);\n        });\n    },\n\n   editNote(id) {\n      this.$router.push({ name: \"note-details\", params: { id: id } });\n    },\n\n    async deleteNote(id, status) {\n      if(status == \"Pendiente\"){\n      let res = await this.$confirm('¿Esta seguro de eliminar una tarea pendiente?', { title: 'Confirmar' })\n      if (res) {\n       NoteDataService.delete(id)\n          .then(() => {\n          this.refreshList();\n        })\n        .catch((e) => {\n          console.log(e);\n        })\n      }\n      }else{\n          NoteDataService.delete(id)\n          .then(() => {\n          this.refreshList();\n        })\n        .catch((e) => {\n          console.log(e);\n        })\n      }\n    },\n\n    getDisplayNote(note) {\n      return {\n        id: note.id,\n        title: note.title.length > 30 ? note.title.substr(0, 30) + \"...\" : note.title,\n        description: note.description,\n        status: note.published ? \"Finalizado\" : \"Pendiente\",\n      };\n    },\n  },\n  mounted() {\n    this.retrieveNotes();\n  },\n};\n</script>\n\n<style>\n.list {\n  max-width: 1500px;\n  background: #E7E7E7;\n}\n</style>"]}]}